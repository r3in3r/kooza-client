{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet GameServerListComponent = class GameServerListComponent {\n  constructor(dataService) {\n    this.dataService = dataService;\n    this.data = [];\n    this.filteredData = [];\n    this.searchTerm = '';\n    this.currentPage = 1;\n    this.hasNextPage = false;\n  }\n  ngOnInit() {\n    this.fetchData(this.currentPage);\n  }\n  fetchData(page) {\n    this.dataService.getData(page).subscribe(response => {\n      console.log('Response from data service:', response);\n      if (response.data.length === 0) {\n        console.warn('The response is empty.');\n      }\n      this.data = response.data;\n      this.filteredData = this.data; // Initialize filtered data\n      console.log('Processed data:', this.data);\n      this.hasNextPage = !!response.meta?.next; // Determine if there is a next page\n    }, error => {\n      console.error('Error fetching data:', error);\n      alert('Error fetching data. Please check the console for details.');\n    });\n  }\n  joinServer(ip, port) {\n    const steamConnectUrl = `steam://connect/${ip}:${port}`;\n    console.log('Connecting to:', steamConnectUrl);\n    window.location.href = steamConnectUrl;\n  }\n  onSearchChange(event) {\n    const inputElement = event.target;\n    if (inputElement) {\n      this.searchTerm = inputElement.value;\n      this.filteredData = this.data.filter(server => server.name.toLowerCase().includes(this.searchTerm.toLowerCase()));\n    }\n  }\n  nextPage() {\n    if (this.hasNextPage) {\n      this.currentPage++;\n      this.fetchData(this.currentPage);\n    }\n  }\n  previousPage() {\n    if (this.currentPage > 1) {\n      this.currentPage--;\n      this.fetchData(this.currentPage);\n    }\n  }\n};\nGameServerListComponent = __decorate([Component({\n  selector: 'app-game-server-list',\n  templateUrl: './game-server-list.component.html',\n  styleUrls: ['./game-server-list.component.scss']\n})], GameServerListComponent);\nexport { GameServerListComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAQ1C,IAAMC,uBAAuB,GAA7B,MAAMA,uBAAuB;EAOlCC,YAAoBC,WAAwB;IAAxB,gBAAW,GAAXA,WAAW;IAN/B,SAAI,GAAU,EAAE;IAChB,iBAAY,GAAU,EAAE;IACxB,eAAU,GAAW,EAAE;IACvB,gBAAW,GAAW,CAAC;IACvB,gBAAW,GAAY,KAAK;EAEmB;EAE/CC,QAAQ;IACN,IAAI,CAACC,SAAS,CAAC,IAAI,CAACC,WAAW,CAAC;EAClC;EAEAD,SAAS,CAACE,IAAY;IACpB,IAAI,CAACJ,WAAW,CAACK,OAAO,CAACD,IAAI,CAAC,CAACE,SAAS,CACtCC,QAAQ,IAAG;MACTC,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEF,QAAQ,CAAC;MACpD,IAAIA,QAAQ,CAACG,IAAI,CAACC,MAAM,KAAK,CAAC,EAAE;QAC9BH,OAAO,CAACI,IAAI,CAAC,wBAAwB,CAAC;;MAExC,IAAI,CAACF,IAAI,GAAGH,QAAQ,CAACG,IAAI;MACzB,IAAI,CAACG,YAAY,GAAG,IAAI,CAACH,IAAI,CAAC,CAAC;MAC/BF,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAACC,IAAI,CAAC;MACzC,IAAI,CAACI,WAAW,GAAG,CAAC,CAACP,QAAQ,CAACQ,IAAI,EAAEC,IAAI,CAAC,CAAC;IAC5C,CAAC,EACDC,KAAK,IAAG;MACNT,OAAO,CAACS,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5CC,KAAK,CAAC,4DAA4D,CAAC;IACrE,CAAC,CACF;EACH;EAEAC,UAAU,CAACC,EAAU,EAAEC,IAAY;IACjC,MAAMC,eAAe,GAAG,mBAAmBF,EAAE,IAAIC,IAAI,EAAE;IACvDb,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEa,eAAe,CAAC;IAC9CC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGH,eAAe;EACxC;EAEAI,cAAc,CAACC,KAAY;IACzB,MAAMC,YAAY,GAAGD,KAAK,CAACE,MAA0B;IACrD,IAAID,YAAY,EAAE;MAChB,IAAI,CAACE,UAAU,GAAGF,YAAY,CAACG,KAAK;MACpC,IAAI,CAAClB,YAAY,GAAG,IAAI,CAACH,IAAI,CAACsB,MAAM,CAACC,MAAM,IAAIA,MAAM,CAACC,IAAI,CAACC,WAAW,EAAE,CAACC,QAAQ,CAAC,IAAI,CAACN,UAAU,CAACK,WAAW,EAAE,CAAC,CAAC;;EAErH;EAEAE,QAAQ;IACN,IAAI,IAAI,CAACvB,WAAW,EAAE;MACpB,IAAI,CAACX,WAAW,EAAE;MAClB,IAAI,CAACD,SAAS,CAAC,IAAI,CAACC,WAAW,CAAC;;EAEpC;EAEAmC,YAAY;IACV,IAAI,IAAI,CAACnC,WAAW,GAAG,CAAC,EAAE;MACxB,IAAI,CAACA,WAAW,EAAE;MAClB,IAAI,CAACD,SAAS,CAAC,IAAI,CAACC,WAAW,CAAC;;EAEpC;CACD;AA3DYL,uBAAuB,eALnCD,SAAS,CAAC;EACT0C,QAAQ,EAAE,sBAAsB;EAChCC,WAAW,EAAE,mCAAmC;EAChDC,SAAS,EAAE,CAAC,mCAAmC;CAChD,CAAC,GACW3C,uBAAuB,CA2DnC;SA3DYA,uBAAuB","names":["Component","GameServerListComponent","constructor","dataService","ngOnInit","fetchData","currentPage","page","getData","subscribe","response","console","log","data","length","warn","filteredData","hasNextPage","meta","next","error","alert","joinServer","ip","port","steamConnectUrl","window","location","href","onSearchChange","event","inputElement","target","searchTerm","value","filter","server","name","toLowerCase","includes","nextPage","previousPage","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["E:\\GBrowser\\gbrowser-batlemetrics\\src\\app\\game-server-list\\game-server-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { DataService } from '../data.service';\n\n@Component({\n  selector: 'app-game-server-list',\n  templateUrl: './game-server-list.component.html',\n  styleUrls: ['./game-server-list.component.scss']\n})\nexport class GameServerListComponent implements OnInit {\n  data: any[] = [];\n  filteredData: any[] = [];\n  searchTerm: string = '';\n  currentPage: number = 1;\n  hasNextPage: boolean = false;\n\n  constructor(private dataService: DataService) {}\n\n  ngOnInit() {\n    this.fetchData(this.currentPage);\n  }\n\n  fetchData(page: number): void {\n    this.dataService.getData(page).subscribe(\n      response => {\n        console.log('Response from data service:', response);\n        if (response.data.length === 0) {\n          console.warn('The response is empty.');\n        }\n        this.data = response.data;\n        this.filteredData = this.data; // Initialize filtered data\n        console.log('Processed data:', this.data);\n        this.hasNextPage = !!response.meta?.next; // Determine if there is a next page\n      },\n      error => {\n        console.error('Error fetching data:', error);\n        alert('Error fetching data. Please check the console for details.');\n      }\n    );\n  }\n\n  joinServer(ip: string, port: number): void {\n    const steamConnectUrl = `steam://connect/${ip}:${port}`;\n    console.log('Connecting to:', steamConnectUrl);\n    window.location.href = steamConnectUrl;\n  }\n\n  onSearchChange(event: Event): void {\n    const inputElement = event.target as HTMLInputElement;\n    if (inputElement) {\n      this.searchTerm = inputElement.value;\n      this.filteredData = this.data.filter(server => server.name.toLowerCase().includes(this.searchTerm.toLowerCase()));\n    }\n  }\n\n  nextPage(): void {\n    if (this.hasNextPage) {\n      this.currentPage++;\n      this.fetchData(this.currentPage);\n    }\n  }\n\n  previousPage(): void {\n    if (this.currentPage > 1) {\n      this.currentPage--;\n      this.fetchData(this.currentPage);\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}