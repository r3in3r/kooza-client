{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../data.service\";\nexport class GameServerlistComponent {\n  constructor(dataService) {\n    this.dataService = dataService;\n    this.data = [];\n    this.filteredData = []; // Array to hold the filtered data for display\n    this.searchTerm = ''; // Search term for filtering the data\n  }\n\n  ngOnInit() {\n    this.dataService.getData().subscribe(response => {\n      console.log('Response from data service:', response);\n      if (response.length === 0) {\n        console.warn('The response is empty.');\n      }\n      this.data = response.map(server => ({\n        name: server.attributes.name,\n        players: server.attributes.players,\n        ip: server.attributes.ip,\n        port: server.attributes.port,\n        map: server.attributes.details.map,\n        appId: server.attributes.details.appId,\n        country: server.attributes.country.toLowerCase(),\n        status: server.attributes.status\n      }));\n      this.filteredData = this.data; // Initialize filtered data with the original data\n      console.log('Processed data:', this.data);\n    }, error => {\n      console.error('Error fetching data:', error);\n    });\n  }\n  joinServer(ip, port) {\n    const steamConnectUrl = `steam://connect/${ip}:${port}`;\n    console.log('Connecting to:', steamConnectUrl);\n    window.location.href = steamConnectUrl;\n  }\n  onSearchChange(searchTerm) {\n    this.searchTerm = searchTerm;\n    this.filteredData = this.data.filter(server => server.name.toLowerCase().includes(searchTerm.toLowerCase()));\n  }\n  static #_ = this.ɵfac = function GameServerlistComponent_Factory(t) {\n    return new (t || GameServerlistComponent)(i0.ɵɵdirectiveInject(i1.DataService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: GameServerlistComponent,\n    selectors: [[\"app-game-server-list\"]],\n    decls: 0,\n    vars: 0,\n    template: function GameServerlistComponent_Template(rf, ctx) {},\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJnYW1lLXNlcnZlci1saXN0LmNvbXBvbmVudC5zY3NzIn0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZ2FtZS1zZXJ2ZXItbGlzdC9nYW1lLXNlcnZlci1saXN0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxnTEFBZ0wiLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"mappings":";;AAQA,OAAM,MAAOA,uBAAuB;EAKlCC,YAAoBC,WAAwB;IAAxB,gBAAW,GAAXA,WAAW;IAJ/B,SAAI,GAAU,EAAE;IAChB,iBAAY,GAAU,EAAE,CAAC,CAAC;IAC1B,eAAU,GAAW,EAAE,CAAC,CAAC;EAEsB;;EAE/CC,QAAQ;IACN,IAAI,CAACD,WAAW,CAACE,OAAO,EAAE,CAACC,SAAS,CAClCC,QAAQ,IAAG;MACTC,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEF,QAAQ,CAAC;MACpD,IAAIA,QAAQ,CAACG,MAAM,KAAK,CAAC,EAAE;QACzBF,OAAO,CAACG,IAAI,CAAC,wBAAwB,CAAC;;MAExC,IAAI,CAACC,IAAI,GAAGL,QAAQ,CAACM,GAAG,CAAEC,MAAW,KAAM;QACzCC,IAAI,EAAED,MAAM,CAACE,UAAU,CAACD,IAAI;QAC5BE,OAAO,EAAEH,MAAM,CAACE,UAAU,CAACC,OAAO;QAClCC,EAAE,EAAEJ,MAAM,CAACE,UAAU,CAACE,EAAE;QACxBC,IAAI,EAAEL,MAAM,CAACE,UAAU,CAACG,IAAI;QAC5BN,GAAG,EAAEC,MAAM,CAACE,UAAU,CAACI,OAAO,CAACP,GAAG;QAClCQ,KAAK,EAAEP,MAAM,CAACE,UAAU,CAACI,OAAO,CAACC,KAAK;QACtCC,OAAO,EAAER,MAAM,CAACE,UAAU,CAACM,OAAO,CAACC,WAAW,EAAE;QAChDC,MAAM,EAAEV,MAAM,CAACE,UAAU,CAACQ;OAC3B,CAAC,CAAC;MACH,IAAI,CAACC,YAAY,GAAG,IAAI,CAACb,IAAI,CAAC,CAAC;MAC/BJ,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAACG,IAAI,CAAC;IAC3C,CAAC,EACDc,KAAK,IAAG;MACNlB,OAAO,CAACkB,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C,CAAC,CACF;EACH;EAEAC,UAAU,CAACT,EAAU,EAAEC,IAAY;IACjC,MAAMS,eAAe,GAAG,mBAAmBV,EAAE,IAAIC,IAAI,EAAE;IACvDX,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEmB,eAAe,CAAC;IAC9CC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGH,eAAe;EACxC;EACAI,cAAc,CAACC,UAAkB;IAC/B,IAAI,CAACA,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACR,YAAY,GAAG,IAAI,CAACb,IAAI,CAACsB,MAAM,CAACpB,MAAM,IAAIA,MAAM,CAACC,IAAI,CAACQ,WAAW,EAAE,CAACY,QAAQ,CAACF,UAAU,CAACV,WAAW,EAAE,CAAC,CAAC;EAC9G;EAAC;qBAzCUtB,uBAAuB;EAAA;EAAA;UAAvBA,uBAAuB;IAAAmC;IAAAC;IAAAC;IAAAC;IAAAC;EAAA","names":["GameServerlistComponent","constructor","dataService","ngOnInit","getData","subscribe","response","console","log","length","warn","data","map","server","name","attributes","players","ip","port","details","appId","country","toLowerCase","status","filteredData","error","joinServer","steamConnectUrl","window","location","href","onSearchChange","searchTerm","filter","includes","selectors","decls","vars","template","styles"],"sourceRoot":"","sources":["E:\\GBrowser\\kooza-client-batlemetrics\\src\\app\\game-server-list\\game-server-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { DataService } from '../data.service';\n\n@Component({\n  selector: 'app-game-server-list',\n  templateUrl: './game-server-list.component.html',\n  styleUrls: ['./game-server-list.component.scss']\n})\nexport class GameServerlistComponent implements OnInit {\n  data: any[] = [];\n  filteredData: any[] = []; // Array to hold the filtered data for display\n  searchTerm: string = ''; // Search term for filtering the data\n\n  constructor(private dataService: DataService) {}\n\n  ngOnInit() {\n    this.dataService.getData().subscribe(\n      response => {\n        console.log('Response from data service:', response);\n        if (response.length === 0) {\n          console.warn('The response is empty.');\n        }\n        this.data = response.map((server: any) => ({\n          name: server.attributes.name,\n          players: server.attributes.players,\n          ip: server.attributes.ip,\n          port: server.attributes.port,\n          map: server.attributes.details.map,\n          appId: server.attributes.details.appId,\n          country: server.attributes.country.toLowerCase(), // Ensure country code is lowercase\n          status: server.attributes.status\n        }));\n        this.filteredData = this.data; // Initialize filtered data with the original data\n        console.log('Processed data:', this.data);\n      },\n      error => {\n        console.error('Error fetching data:', error);\n      }\n    );\n  }\n\n  joinServer(ip: string, port: number): void {\n    const steamConnectUrl = `steam://connect/${ip}:${port}`;\n    console.log('Connecting to:', steamConnectUrl);\n    window.location.href = steamConnectUrl;\n  }\n  onSearchChange(searchTerm: string): void {\n    this.searchTerm = searchTerm;\n    this.filteredData = this.data.filter(server => server.name.toLowerCase().includes(searchTerm.toLowerCase()));\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}